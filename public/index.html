<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover" />
  <title>pChat</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    
    <div id="callOverlay" class="hidden">
      <div class="video-grid">
        <video id="remoteVideo" autoplay playsinline></video>
        <video id="localVideo" autoplay playsinline muted></video>
      </div>
      <div class="call-controls">
        <div id="callStatus" style="color:white; font-weight:bold;">Connecting...</div>
        <button id="btn_end_call" class="danger-btn">End Call / ÂàáÊñ≠</button>
      </div>
    </div>

    <div id="incomingCallModal" class="hidden modal-wrap">
      <div class="modal card">
        <h3>Incoming Call / ÁùÄ‰ø°</h3>
        <p id="callerName">User is calling...</p>
        <div class="row-center">
          <button id="btn_answer" class="chipBtn primary">Answer / ÂøúÁ≠î</button>
          <button id="btn_decline" class="danger-btn">Decline / ÊãíÂê¶</button>
        </div>
      </div>
    </div>

    <div class="wrap">
      <section id="auth">
        <div class="card glass">
          <h2>Login</h2>
          <input id="l_login" placeholder="Login ID" />
          <input id="l_pass" type="password" placeholder="Password" />
          <button id="btn_login" class="chipBtn primary">Login</button>
          <div style="margin-top:10px; font-size:12px; color:#aaa;">
            Or Register:
            <input id="r_login" placeholder="New ID" style="margin-top:5px;" />
            <input id="r_name" placeholder="Display Name" />
            <input id="r_pass" type="password" placeholder="Password" />
            <button id="btn_register" class="chipBtn">Create Account</button>
          </div>
        </div>
      </section>

      <section id="main" class="hidden">
        <header class="topbar glass">
          <div class="meBlock">
            <div id="meName">...</div>
            <div id="meId" style="font-size:11px; opacity:0.7;">...</div>
          </div>
          <div class="barActions">
            <button id="btn_start_call" class="chipBtn hidden" title="Video Call">üìπ</button>
            <button id="btn_logout" class="chipBtn">Logout</button>
          </div>
        </header>

        <div class="layout">
          <aside class="sidebar glass">
            <div class="searchRow">
              <input id="search_q" placeholder="Search users..." />
              <button id="btn_search" class="chipBtn">Go</button>
            </div>
            <div id="searchResults"></div>
            <div class="sectionTitle">Friends</div>
            <div id="friends"></div>
          </aside>

          <section class="chat glass">
            <div class="chatHead">
              <span id="chatTitle">Select a friend</span>
            </div>
            
            <div id="messages" class="msgs"></div>

            <div class="composer">
              <input type="file" id="file_input" accept="image/*" style="display:none" />
              <button id="btn_photo" class="iconBtn" title="Send Photo">üì∑</button>
              
              <input id="msg_input" placeholder="Message..." />
              <button id="btn_send" class="chipBtn primary">Send</button>
            </div>
          </section>
        </div>
      </section>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="./app.js"></script>
</body>
</html>
